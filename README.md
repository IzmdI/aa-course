# AA Course
Курс по асинхронной архитектуре

## Схемы
Доска MIRO тут [тыц](https://miro.com/app/board/uXjVMxFUl2Q=/).

### Обновления

* Для второй версии задач потребовалось разделить поле `title` на 2 поля - `title` и `jira_id`.
Для этого были сделаны следующие шаги:  

    1. Добавлено поле `jira_id` в таблицу Task в task-service. Поле должно быть Nullable как в таблице, так и в новой схеме, для сохранения обратной и прямой совместимости.
    2. Сделана и залиита новая миграция.
    3. В Schema Registry добавлена вторая версия схемы `streaming` для задач.
    4. В консюмеры, которые работают с этой схемой, был добавлен роутинг по версии, чтобы корректно обрабатывались предыдущая и новая версии.
    5. Продюсер `streaming` для задач был переведён на новую версию схемы.
    6. Бизнес-логика в сервисе задач была обновлена.
    7. Спустя некоторое время, когда мы убедились, что все ивенты предыдущей версии были обработаны, из консюмеров убрали предыдущую версию схемы.
